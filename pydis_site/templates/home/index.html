{% extends 'base/base.html' %}
{% load static %}

{% block title %}Home{% endblock %}
{% block head %}
  <link rel="stylesheet" href="{% static "css/home/index.css" %}">
{% endblock %}

{% block content %}
  {% include "base/navbar.html" %}

  <!-- Mobile-only Code Jam Banner -->
  <section id="mobile-notice" class="is-primary is-hidden-tablet">
    <a href="/events/code-jams/12/">
      <img src="{% static "images/events/summer_code_jam_2025/banner_with_dates.png" %}" alt="Code Jam 2025">
    </a>
  </section>

  <!-- Wave Hero -->
  <section id="wave-hero" class="section is-hidden-mobile">

      <div class="container">
        <div class="columns is-variable is-8 is-centered">

          {# Embedded Welcome video #}
          <div id="wave-hero-left" class="column is-half ">
            <div class="force-aspect-container">
              <iframe
              class="force-aspect-content"
              src="https://www.youtube.com/embed/ZH26PuX3re0"
              srcdoc="
              <style>
                *{padding:0;margin:0;overflow:hidden}
                html,body{height:100%}
                img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}
                span{height:1.5em;text-align:center;font:68px/1.5 sans-serif;color:#FFFFFFEE;text-shadow:0 0 0.1em #00000020}
              </style>
              <a href=https://www.youtube.com/embed/ZH26PuX3re0?autoplay=1>
                <img src='{% static "images/frontpage/welcome.jpg" %}' alt='Welcome to Python Discord, click to play'>
                <span>â–¶</span>
              </a>"
              allow="autoplay; accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              ></iframe>
            </div>
          </div>

          {# Code Jam Banner #}
          <div id="wave-hero-right" class="column is-half">
            <a href="/events/code-jams/12/">
              <img src="{% static "images/events/summer_code_jam_2025/banner_with_dates.png" %}" alt="Code Jam 2025">
            </a>
          </div>
        </div>

      </div>

    {# Animated wave elements #}
    <span id="front-wave" class="wave"></span>
    <span id="back-wave" class="wave"></span>
    <span id="bottom-wave" class="wave"></span>

  </section>

  <!-- Main Body -->
  <section id="body" class="section">

    <div class="container">
      <h1 class="is-size-1">Who are we?</h1>

      <div class="columns is-desktop">
        <div class="column is-half-desktop content">
          <p>
            We're a large community focused around the Python programming language.
            We believe anyone can learn to code, and are very dedicated to helping
            novice developers take their first steps into the world of programming. We also
            attract a lot of expert developers who are seeking friendships, collaborators,
            and who wish to hone their craft by teaching and getting involved in the community.
          </p>
          <p>
            We organise regular community events such as code jams, open-source hackathons,
            seasonal events, and community challenges. Through our sponsorships and donations,
            many of our events even have prizes to win!
          </p>
          <p>
            You can find help with most Python-related problems in one of our help channels.
            Our staff of over 100 dedicated expert Helpers are available around the clock
            in every timezone. Whether you're looking to learn the language or working on a
            complex project, we've got someone who can help you if you get stuck.
          </p>
        </div>

        {# Showcase box #}
        <section id="showcase" class="column is-half-desktop has-text-centered">
          <article class="box has-background-white">

            <header class="title">Interactive timeline</header>

            <div class="mini-timeline">
              <i class="fa fa-asterisk"></i>
              <i class="fa fa-code"></i>
              <i class="fab fa-lg fa-python"></i>
              <i class="fab fa-discord"></i>
              <i class="fa fa-sm fa-terminal"></i>
              <i class="fa fa-bug"></i>
            </div>

            <p class="subtitle">
              Discover the history of our community, and learn about the events that made our community what it is today.
            </p>

            <div class="buttons are-large is-centered">
              <a href="{% url 'timeline:index' %}" class="button is-primary">
                <span>Check it out!</span>
                <span class="icon">
                  <i class="fas fa-arrow-right"></i>
                </span>
              </a>
            </div>

          </article>
        </section>

      </div>
    </div>
  </section>

  <!-- Projects -->
  {%  if repo_data %}
    <section id="projects" class="section">
      <div class="container">
        <h1 class="is-size-1">Projects</h1>

        <div class="columns is-multiline is-tablet">

          {# Generate project data from HomeView.repos #}
          {% for repo in repo_data %}
            <div class="column is-one-third-desktop is-half-tablet">

              <a href="https://github.com/{{ repo.repo_name }}">
                <article class="card has-background-white">

                  <header class="card-header is-white">
                    <span class="card-header-icon">
                      <span class="icon"><i class="fab fa-github"></i></span>
                    </span>
                    <div class="card-header-title">
                      {{ repo.repo_name|cut:"python-discord/" }}
                    </div>
                  </header>

                  <p class="card-content">
                    {{ repo.description }}
                  </p>

                  <footer class="card-footer">
                    <div class="card-footer-item">
                      <i class="repo-language-dot {{ repo.language | lower }}"></i>
                      {{ repo.language }}
                    </div>
                    <div class="card-footer-item">
                      <i class="fas fa-star"></i>
                      {{ repo.stargazers }}
                    </div>
                    <div class="card-footer-item">
                      <i class="fas fa-code-branch"></i>
                      {{ repo.forks }}
                    </div>
                  </footer>

                </article>
              </a>

            </div>
          {% endfor %}

        </div>

      </div>
    </section>
  {% endif %}

  <!-- Sponsors -->
  <section id="sponsors" class="hero has-background-white-ter">
    <div class="hero-body">
      <div class="container">
        <h1 class="title is-6 has-text-grey">
          Sponsors
        </h1>
        <div class="columns is-vcentered">
          <a href="https://www.netcup.com/?ref=177518" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/netcup.png" %}" alt="netcup" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/netcup.png" %}" alt="netcup" loading="lazy"/>
          </a>
          <a href="https://www.linode.com/?r=3bc18ce876ff43ea31f201b91e8e119c9753f085" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/linode.png" %}" alt="Linode" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/linode.png" %}" alt="Linode" loading="lazy"/>
          </a>
          <a href="https://jetbrains.com" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/jetbrains.png" %}" alt="JetBrains" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/jetbrains.png" %}" alt="JetBrains" loading="lazy"/>
          </a>
        </div>
        <div class="columns is-vcentered">
          <a href="https://sentry.io" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/sentry.png" %}" alt="Sentry" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/sentry.png" %}" alt="Sentry" loading="lazy"/>
          </a>
          <a href="https://notion.so" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/notion.png" %}" alt="Notion" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/notion.png" %}" alt="Notion" loading="lazy"/>
          </a>
          <a href="https://streamyard.com" class="column is-one-third">
            <img class="light-image" src="{% static "images/sponsors/streamyard.png" %}" alt="StreamYard" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors/streamyard.png" %}" alt="StreamYard" loading="lazy"/>
          </a>
        </div>
        <div class="columns is-vcentered">
          <a href="https://www.netlify.com/" class="column is-half">
            <img class="light-image" src="{% static "images/sponsors/netlify.png" %}" alt="Netlify" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/netlify.png" %}" alt="Netlify" loading="lazy"/>
          </a>
          <a href="https://www.cloudflare.com/" class="column is-half">
            <img class="light-image" src="{% static "images/sponsors/cloudflare.png" %}" alt="Cloudflare" loading="lazy"/>
            <img class="dark-image" src="{% static "images/sponsors_dark/cloudflare.png" %}" alt="Cloudflare" loading="lazy"/>
          </a>
        </div>
      </div>
    </div>
  </section>

{% endblock %}
